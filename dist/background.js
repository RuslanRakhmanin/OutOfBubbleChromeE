(()=>{"use strict";var e={799:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.maxRank=void 0,t.setBadgeText=function(e=""){chrome.action.setBadgeText({text:e})},t.setBadgeIcon=function(e=""){""===e&&(e="icon128.png"),chrome.action.setIcon({path:{128:e}})},t.maxRank=5},181:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDemoData=function(){return r},t.getDataByURL=function(e){return r.find((t=>t.url===e))};let r=[{url:"https://www.independent.ie/irish-news/crime/irish-man-50-shot-dead-in-malta-after-ex-partners-body-found-in-apartment/a1366613683.html",title:"Irishman shot dead in Maltese police after ex-partnerâ€™s body found in apartment",rank:4,sources:[{sourceName:"Irish Examiner",url:"https://www.irishexaminer.com/news/arid-41454697.html",rank:3},{sourceName:"Independent.ie",url:"https://www.independent.ie/irish-news/crime/irish-man-50-shot-dead-in-malta-after-ex-partners-body-found-in-apartment/a1366613683.html",rank:4},{sourceName:"Irish Times",url:"https://www.irishtimes.com/crime-law/2024/08/12/irishman-shot-dead-by-police-in-malta-after-allegedly-murdering-former-partner/",rank:2}],psychologicalTactics:["Use of emotional language","Focus on the victim","Omission of certain details"],sumUp5:["Irish man shot dead by Maltese police after standoff.","Ex-partner found murdered in apartment.","Man suspected of killing ex-partner.","Standoff lasted three hours.","Police Commissioner outlines events."]},{url:"https://www.irishexaminer.com/news/arid-41454697.html",title:"Irishman killed by police in Malta after allegedly murdering woman",rank:3,sources:[{sourceName:"Irish Examiner",url:"https://www.irishexaminer.com/news/arid-41454697.html",rank:3},{sourceName:"Independent.ie",url:"https://www.independent.ie/irish-news/crime/irish-man-50-shot-dead-in-malta-after-ex-partners-body-found-in-apartment/a1366613683.html",rank:4},{sourceName:"Irish Times",url:"https://www.irishtimes.com/crime-law/2024/08/12/irishman-shot-dead-by-police-in-malta-after-allegedly-murdering-former-partner/",rank:2}],psychologicalTactics:["Not found"],sumUp5:["Irish man, Edward Johnston, allegedly murders his ex-partner Nicolette Ghirxi in Malta.","Johnston holds staff at a Hilton Hotel hostage with a replica gun, confesses to the murder.","Police engage in a standoff with Johnston, who eventually points the replica gun at them and is shot dead.","Ghirxi had filed harassment complaints against Johnston previously.","The incident has sparked outrage and calls for action against violence against women in Malta."]},{url:"https://www.irishtimes.com/crime-law/2024/08/12/irishman-shot-dead-by-police-in-malta-after-allegedly-murdering-former-partner/",title:"Irish man shot dead by police in Malta after allegedly murdering former partner",rank:2,sources:[{sourceName:"Irish Examiner",url:"https://www.irishexaminer.com/news/arid-41454697.html",rank:3},{sourceName:"Independent.ie",url:"https://www.independent.ie/irish-news/crime/irish-man-50-shot-dead-in-malta-after-ex-partners-body-found-in-apartment/a1366613683.html",rank:4},{sourceName:"Irish Times",url:"https://www.irishtimes.com/crime-law/2024/08/12/irishman-shot-dead-by-police-in-malta-after-allegedly-murdering-former-partner/",rank:2}],psychologicalTactics:["Emotional Appeal","Framing","Omission of Context"],sumUp5:["Irish man shot dead by Maltese police.","Man allegedly murdered his former partner before the shooting.","Police negotiated with the man before shooting him.","Woman's body found with multiple knife wounds.","Man had a history of harassing the victim."]}]}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}(()=>{const e=r(799),t=r(181);let a,n={};function i(){chrome.storage.sync.get("enabled",(t=>{(0,e.setBadgeText)("")})),(0,e.setBadgeIcon)()}function o(e="Current tab"){if(console.log("getArticleProperties",e),"Current tab"===e)return a;if(void 0===n[e]){let r=(0,t.getDataByURL)(e);if(void 0===r)return;n[e]=r}return n[e]}function s(e){return void 0===e?"icon128.png":(a=o(e),void 0===a?"icon128.png":a.rank<3?"icon_set1_1_128.png":3===a.rank?"icon_set1_2_128.png":a.rank>3?"icon_set1_3_128.png":void 0)}function d(t){if(0==!(void 0===(r=t)||void 0===r.id||void 0===r.url||""===r.url||r.url.startsWith("chrome://")))return void(0,e.setBadgeIcon)();var r;let a=s(t.url);void 0!==a&&(0,e.setBadgeIcon)(a)}chrome.runtime.onStartup.addListener(i),chrome.runtime.onInstalled.addListener(i),chrome.runtime.onMessage.addListener(((e,t,r)=>{const a=e;if(void 0!==a.type)switch(a.type){case"getPropertiesByURL":r(o(a.data));break;case"getPropertiesCurrentTab":r(o());break;case"getIconNameByURL":r(s(a.data));break;default:console.warn("Unknown message type",a.type),r(void 0)}else console.warn("Unknown message",a),r(void 0)})),chrome.tabs.onActivated.addListener((e=>{chrome.tabs.query({active:!0,currentWindow:!0},(e=>{const t=e[0];console.log("Got focus on tab",t),d(t)}))})),chrome.tabs.onUpdated.addListener(((e,t,r)=>{d(r)}))})()})();
//# sourceMappingURL=background.js.map